## Занятие 12. Prometheus экспортеры
### Содержание
1. [Описание занятия](#description)  
2. [Домашнее задание](#homework)  
3. [Справочные сведения](#info)  
4. [Выполнение задания](#exec)  

## 1. Описание занятия <a name="description"></a>
### Цели
- Рассмотреть основные возможности экспортеров.

### Краткое содержение
- экспортеры и для чего они нужны,  
- мониторинг инстансов, СУБД, веб серверов, серверов сообщений, etc;  
- exporters, db exporters, node exporter, etc.  


## 2. Домашнее задание  <a name="homework"></a>
Установка и настройка Prometheus, использование exporters

### Постановка задачи
Необходимо собрать стенд включающий в себя 2 виртуальные машины:
- Prometheus  
- Nginx  

На вм с nginx установить и настроить nginx-exporter.
С помощью siege (или apache benchmark, или yandex tank) устроить ипровизированное нагрузочное тестирование.
Посчитать 99й персентиль по времени ответа за 5 минут.
Посчитать количество запросов по каждому коду ответа за 5 минут.
Реализовать свой собственный экспортер с собственными метриками (ваше имя\никнейм в название метрики) использую любой ЯП. (Ссылка с реализацией экспортера на bash прилагается)

Для сдачи:

1. Скриншоты с prometheus с результатами запросов PromQL
2. Текстовый файлик с примерами метрик вашего экспортера



## 3. Справочные сведения<a name="info"></a>
<details>
   <summary>Конспект занятия</summary>

#### Подходы к отправке уведомлений
- Необходимо выбрать те параметры, по которым должны будут приходить уведомления.  
- Выбирать ВСЕ параметры -- плохая практика.   
- Выбор параметров в основном зависит от сервиса и требований бизнеса.  

#### Порог срабатывания
- Определять порог срабатывания после наблюдения за метрикой.  
- Учитывать пиковые значения метрики и  продолжительность этих значений.  
- Часто требуется более одного порога срабатывания.  
- Можно настроить несколько уровней уведомлений для одной и той же метрики.  

#### Включать или не включать?  
- Количество уведомлений необходимо сокращать.  
- Если на уведомление не было никакой реакции --  его лучше отключить, чтобы избежать флуда в дальнейшем.  
- Если есть сомнения в каких-то параметрах, то  уведомления по ним лучше включить, по крайней мере на первое время.  

#### Эскалация проблемы  
Эскалация — это процедура привлечения внимания к отдельной порблеме, когда ход работы над ней чем-то не устраивает.   
Четкая формулировка проблемы и причины эскалации.  
- Причина изменения приоритета проблемы.  
- Необходимость заранее планировать уровни эскалации типовых проблем.  
- Настройка процессов эскалации в зависимости от уровня проблемы.  



</details>

<details>
   <summary>Термины и определения Zabbix</summary>

</details>

<details>
   <summary>Создание Telegram-бота и канала</summary>



</details>


## 4. Выполнение задания <a name="exec"></a>  
#### Лабораторный стенд
